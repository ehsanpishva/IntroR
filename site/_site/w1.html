<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ehsan Pishva" />


<title>Introduction to R</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Introduction to R | PSY4373</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">General</a>
</li>
<li>
  <a href="w1.html">Week 1</a>
</li>
<li>
  <a href="w1e.html">Week 1 (extra)</a>
</li>
<li>
  <a href="w2.html">Week 2</a>
</li>
<li>
  <a href="w2e.html">Week 2 (extra)</a>
</li>
<li>
  <a href="w3.html">Week 3</a>
</li>
<li>
  <a href="w3e.html">Week 3 (extra)</a>
</li>
<li>
  <a href="w4.html">Week 4</a>
</li>
<li>
  <a href="w4e.html">Week 4 (extra)</a>
</li>
<li>
  <a href="w5.html">Week 5</a>
</li>
<li>
  <a href="w5e.html">Week 5 (extra)</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Introduction to R</h1>
<h4 class="author">Ehsan Pishva</h4>
<h4 class="date">16-04-2021</h4>

</div>


<p><br></p>
<div id="downloads" class="section level3">
<h3><strong>Downloads</strong></h3>
<div id="presentation" class="section level4">
<h4>Presentation</h4>
<p><a href="https://www.dropbox.com/s/c10xwgg6cf1jfok/Introduction%20to%20R%20%28PSY4373%29.pdf?dl=0">Click here to download the presentation</a></p>
</div>
<div id="r-script" class="section level4">
<h4>R-script</h4>
<p><a href="https://www.dropbox.com/s/k4ozbyu8if7swdi/Week1.R?dl=0">Click here to download the R-scripts used in week 1</a></p>
<hr />
<p><br> <br></p>
</div>
</div>
<div id="types-of-data-in-r" class="section level3">
<h3><strong>Types of data in R</strong></h3>
<pre><code>Vectors
Matrices
Data Frames
Arrays
Lists
Factors</code></pre>
<div id="vectors" class="section level4">
<h4><strong>Vectors</strong></h4>
<p>Commonly used atomic vector types in R:</p>
<pre><code>character: “a”, “swc”
numeric: 2, 15.5
integer: 2L (the L tells R to store this as an integer)
logical: TRUE, FALSE</code></pre>
<p>By atomic, we mean the vector only holds data of a single type. <br></p>
</div>
<div id="characterstring-vectors" class="section level4">
<h4><strong>character/string vectors</strong></h4>
<pre class="r"><code>#Code 1
x &lt;- c(&quot;Male&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Female&quot;)
x</code></pre>
<pre><code>## [1] &quot;Male&quot;   &quot;Male&quot;   &quot;Female&quot; &quot;Female&quot;</code></pre>
<pre class="r"><code>x &lt;- &quot;Hello World!&quot;
x</code></pre>
<pre><code>## [1] &quot;Hello World!&quot;</code></pre>
<p>Note: ‘x’ is overwritten character strings need to be in quotes and can have spaces <br></p>
</div>
<div id="numeric-vectors" class="section level4">
<h4><strong>numeric vectors</strong></h4>
<pre class="r"><code>x &lt;- 2.5
x</code></pre>
<pre><code>## [1] 2.5</code></pre>
<p>can also use = , but better use &lt;-</p>
<pre class="r"><code>x = 5
x</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>x &lt;- c(2,5,4)
x</code></pre>
<pre><code>## [1] 2 5 4</code></pre>
<p>Note: c() is the ‘combine’ function <br></p>
<p>You can create a vector of <strong>consecutive numbers</strong></p>
<pre class="r"><code>x &lt;- c(20:100)
x</code></pre>
<pre><code>##  [1]  20  21  22  23  24  25  26  27  28  29  30  31  32
## [14]  33  34  35  36  37  38  39  40  41  42  43  44  45
## [27]  46  47  48  49  50  51  52  53  54  55  56  57  58
## [40]  59  60  61  62  63  64  65  66  67  68  69  70  71
## [53]  72  73  74  75  76  77  78  79  80  81  82  83  84
## [66]  85  86  87  88  89  90  91  92  93  94  95  96  97
## [79]  98  99 100</code></pre>
<p>you don’t even need <strong>c()</strong> here</p>
<pre class="r"><code>x &lt;- 20:100
x</code></pre>
<pre><code>##  [1]  20  21  22  23  24  25  26  27  28  29  30  31  32
## [14]  33  34  35  36  37  38  39  40  41  42  43  44  45
## [27]  46  47  48  49  50  51  52  53  54  55  56  57  58
## [40]  59  60  61  62  63  64  65  66  67  68  69  70  71
## [53]  72  73  74  75  76  77  78  79  80  81  82  83  84
## [66]  85  86  87  88  89  90  91  92  93  94  95  96  97
## [79]  98  99 100</code></pre>
<p>Note: if the vector is too long to fit into a single line, the output is wrapped and the numbers in brackets (e.g., [1]) indicate the position of the value that comes next <br></p>
<p>if you mix numbers and strings, you get a character vector</p>
<pre class="r"><code>x &lt;- c(&quot;Bob&quot;, &quot;Sue&quot;, &quot;John&quot;, 2, 5)
x</code></pre>
<pre><code>## [1] &quot;Bob&quot;  &quot;Sue&quot;  &quot;John&quot; &quot;2&quot;    &quot;5&quot;</code></pre>
<p>Note: this is called ‘type conversion’ and R uses a complex set of rules to do so in various circumstances (for better or for worse …) <br></p>
</div>
<div id="logical-vectors" class="section level4">
<h4><strong>logical vectors</strong></h4>
<pre class="r"><code>x &lt;- c(TRUE, FALSE, FALSE)
x</code></pre>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<p>can be abbreviated to T/F, but better avoid this</p>
<pre class="r"><code>x &lt;- c(F, F, T)
x</code></pre>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<p><br></p>
</div>
<div id="how-to-check-what-objects-are-created-in-the-workspace" class="section level4">
<h4>How to check what objects are created in the workspace?</h4>
<pre class="r"><code>x&lt;-1
y&lt;-2
z&lt;-55

ls()</code></pre>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
</div>
<div id="how-to-remove-an-object-or-clear-the-entire-workspace" class="section level4">
<h4>How to remove an object or clear the entire workspace?</h4>
<pre class="r"><code>rm(x)
ls()</code></pre>
<pre><code>## [1] &quot;y&quot; &quot;z&quot;</code></pre>
<pre class="r"><code>rm(list=ls())
ls()</code></pre>
<pre><code>## character(0)</code></pre>
<p>or even better: restart the R session (Menu ‘Session’ - Restart R) <br></p>
<div id="missing-values" class="section level5">
<h5><strong>missing values</strong></h5>
<pre class="r"><code>#x &lt;- c(2,,4)
#x &lt;- c(2, ,4)
x &lt;- c(2, NA, 4)
x</code></pre>
<pre><code>## [1]  2 NA  4</code></pre>
<p>note: NA = not available (another special keyword) <br></p>
<p><br></p>
</div>
</div>
</div>
<div id="comparisons" class="section level3">
<h3><strong>Comparisons</strong></h3>
<pre class="r"><code>x &lt;- c(2, 4, 6, 3, 5)
x</code></pre>
<pre><code>## [1] 2 4 6 3 5</code></pre>
<p><br></p>
<pre class="r"><code>x &gt; 3</code></pre>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE  TRUE</code></pre>
<pre class="r"><code>x &gt;= 3</code></pre>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<pre class="r"><code>x &lt; 3</code></pre>
<pre><code>## [1]  TRUE FALSE FALSE FALSE FALSE</code></pre>
<pre class="r"><code>x &lt;= 3</code></pre>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE FALSE</code></pre>
<pre class="r"><code>x == 3</code></pre>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE</code></pre>
<pre class="r"><code>x != 3</code></pre>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE  TRUE</code></pre>
<p>Note: they lead to logicals</p>
<p><br></p>
<div id="andor" class="section level4">
<h4><strong>and/or</strong></h4>
<pre class="r"><code>(x &gt; 3) &amp; (x &lt; 6)</code></pre>
<pre><code>## [1] FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<pre class="r"><code>(x &lt; 3) | (x &gt; 5)</code></pre>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE FALSE</code></pre>
<p>Note: The parentheses are not necessary here, but make the code clearer</p>
<p><br></p>
<p>and/or (where the values located in the data?)</p>
<pre class="r"><code>x</code></pre>
<pre><code>## [1] 2 4 6 3 5</code></pre>
<pre class="r"><code>which((x &gt; 3) &amp; (x &lt; 6))</code></pre>
<pre><code>## [1] 2 5</code></pre>
<pre class="r"><code>which((x &lt; 3) | (x &gt; 5))</code></pre>
<pre><code>## [1] 1 3</code></pre>
<p>Note: they lead to numeric</p>
<p><br></p>
</div>
<div id="objectvariable-names-should" class="section level4">
<h4>object/variable names <strong>should</strong>:</h4>
<ul>
<li>must begin with a letter</li>
<li>contain alphanumeric symbols (A-Z, a-z, 0-9)</li>
<li>can also use . and _</li>
<li>are case-sensitive</li>
<li>no (relevant) restriction on length <br></li>
</ul>
</div>
<div id="names-should-not" class="section level4">
<h4>names <strong>should not:</strong></h4>
<ul>
<li>correspond to commands (confusion/errors)</li>
<li>contain spaces</li>
</ul>
</div>
<div id="check-if-something-is-a-command-or-name" class="section level4">
<h4>check if something is a <strong>command</strong> or <strong>name</strong>?</h4>
<p>simply type the name and run this</p>
<pre class="r"><code>mean</code></pre>
<pre><code>## function (x, ...) 
## UseMethod(&quot;mean&quot;)
## &lt;bytecode: 0x000001c784d98da0&gt;
## &lt;environment: namespace:base&gt;</code></pre>
<p>better avoid naming objects after commands -&gt; confusing! <br></p>
<p><br></p>
<pre class="r"><code>mean &lt;- c(2, 3, 4)
mean</code></pre>
<pre><code>## [1] 2 3 4</code></pre>
<pre class="r"><code>mean(mean)</code></pre>
<pre><code>## [1] 3</code></pre>
</div>
<div id="named-vectors" class="section level4">
<h4>‘named’ vectors</h4>
<pre class="r"><code>age &lt;- c(25, 21, 30)
age</code></pre>
<pre><code>## [1] 25 21 30</code></pre>
<pre class="r"><code>age &lt;- c(Bob=25, Sue=21, John=30)
age</code></pre>
<pre><code>##  Bob  Sue John 
##   25   21   30</code></pre>
</div>
<div id="basic-arithmetic-with---log-exp-and-so-on" class="section level4">
<h4>basic arithmetic with + - * / ^ log() exp() and so on</h4>
<p>be careful with order of operations (use parentheses as needed)</p>
<pre class="r"><code>2 * 5 - 4 / 2 + 4</code></pre>
<pre><code>## [1] 12</code></pre>
<pre class="r"><code>2 * ((5 - 4) / 2) + 4</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>-2^2</code></pre>
<pre><code>## [1] -4</code></pre>
<pre class="r"><code>(-2)^2</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>log(2)   # natural log</code></pre>
<pre><code>## [1] 0.6931472</code></pre>
<pre class="r"><code>log10(2) # log to base 10</code></pre>
<pre><code>## [1] 0.30103</code></pre>
<pre class="r"><code>exp(1)</code></pre>
<pre><code>## [1] 2.718282</code></pre>
</div>
<div id="a-few-special-cases" class="section level4">
<h4>a few special cases</h4>
<pre class="r"><code>2/0</code></pre>
<pre><code>## [1] Inf</code></pre>
<pre class="r"><code>(-2)/0</code></pre>
<pre><code>## [1] -Inf</code></pre>
<pre class="r"><code>0/0</code></pre>
<pre><code>## [1] NaN</code></pre>
<p>Note: NaN = not a number (<a href="https://en.wikipedia.org/wiki/NaN" class="uri">https://en.wikipedia.org/wiki/NaN</a>)</p>
</div>
<div id="scientific-notation" class="section level4">
<h4>Scientific notation</h4>
<pre class="r"><code>100000000</code></pre>
<pre><code>## [1] 1e+08</code></pre>
<pre class="r"><code>10^8</code></pre>
<pre><code>## [1] 1e+08</code></pre>
<pre class="r"><code>0.00000001</code></pre>
<pre><code>## [1] 1e-08</code></pre>
<pre class="r"><code>10^-8</code></pre>
<pre><code>## [1] 1e-08</code></pre>
<p>if you find scientific notation confusing</p>
<pre class="r"><code>options(scipen=100)

100000000</code></pre>
<pre><code>## [1] 100000000</code></pre>
<pre class="r"><code>0.00000001</code></pre>
<pre><code>## [1] 0.00000001</code></pre>
<p>if you want to, you can set ‘scipen’ back to the default (0)</p>
<pre class="r"><code>options(scipen=0)</code></pre>
<p>Note: changes to the options are not permanent (if you restart R/RStudio,the default settings are in effect)</p>
<p>let’s check if our computers are broken</p>
<pre class="r"><code>sqrt(2)</code></pre>
<pre><code>## [1] 1.414214</code></pre>
<pre class="r"><code>sqrt(2) * sqrt(2)</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>sqrt(2) * sqrt(2) - 2</code></pre>
<pre><code>## [1] 4.440892e-16</code></pre>
<p>what is going on here?</p>
<pre class="r"><code>print(sqrt(2) * sqrt(2), digits=18)</code></pre>
<pre><code>## [1] 2.0000000000000004</code></pre>
<p>what is happening here?</p>
<p>this is actually a FAQ: <a href="https://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-doesn_0027t-R-think-these-numbers-are-equal_003f" class="uri">https://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-doesn_0027t-R-think-these-numbers-are-equal_003f</a></p>
</div>
<div id="vectorized-operations" class="section level4">
<h4>Vectorized operations</h4>
<pre class="r"><code>x &lt;- c(2,4,3,5,7)
x</code></pre>
<pre><code>## [1] 2 4 3 5 7</code></pre>
<pre class="r"><code>x * 2</code></pre>
<pre><code>## [1]  4  8  6 10 14</code></pre>
<pre class="r"><code>x^2</code></pre>
<pre><code>## [1]  4 16  9 25 49</code></pre>
<pre class="r"><code>log(x)</code></pre>
<pre><code>## [1] 0.6931472 1.3862944 1.0986123 1.6094379 1.9459101</code></pre>
<p>an example of a non-vectorized operation</p>
<pre class="r"><code>mean(x)</code></pre>
<pre><code>## [1] 4.2</code></pre>
<p>an example where we use vectorized and non-vectorized functions</p>
<pre class="r"><code>x</code></pre>
<pre><code>## [1] 2 4 3 5 7</code></pre>
<pre class="r"><code>x - mean(x)</code></pre>
<pre><code>## [1] -2.2 -0.2 -1.2  0.8  2.8</code></pre>
<pre class="r"><code>(x - mean(x))^2</code></pre>
<pre><code>## [1] 4.84 0.04 1.44 0.64 7.84</code></pre>
<pre class="r"><code>sum((x - mean(x))^2)</code></pre>
<pre><code>## [1] 14.8</code></pre>
<pre class="r"><code>sum((x - mean(x))^2) / (length(x)-1)</code></pre>
<pre><code>## [1] 3.7</code></pre>
<pre class="r"><code>sqrt(sum((x - mean(x))^2) / (length(x)-1))</code></pre>
<pre><code>## [1] 1.923538</code></pre>
<pre class="r"><code>sd(x)</code></pre>
<pre><code>## [1] 1.923538</code></pre>
<p><br></p>
</div>
</div>
<div id="data-frames" class="section level3">
<h3><strong>Data Frames</strong></h3>
<p>Most datasets are just a bunch of vectors (of the same length) combined into a ‘data frame’; let’s create such an object manually</p>
<pre class="r"><code>id  &lt;- 1:3
age &lt;- c(25, 21, 30)
sex &lt;- c(&quot;Male&quot;, &quot;Male&quot;, &quot;Female&quot;)
grp &lt;- c(&quot;T&quot;, &quot;C&quot;, &quot;T&quot;)

dat &lt;- data.frame(id, age, sex, grp)
dat</code></pre>
<pre><code>##   id age    sex grp
## 1  1  25   Male   T
## 2  2  21   Male   C
## 3  3  30 Female   T</code></pre>
<p><br></p>
<p>Notes: on the very left, we have the row names (not a variable!)</p>
<ul>
<li><p>character variables are not shown with quotes</p></li>
<li><p>in the Environment pane, we now have a ‘Data’ object called ‘dat’</p></li>
<li><p>can click on ‘dat’ to view the contents (more useful for larger datasets)</p></li>
<li><p>this is not for editing; we do not make any manual changes to our data!</p></li>
<li><p>this is the same as using the <strong>View()</strong> command</p></li>
</ul>
<pre class="r"><code>View(dat)</code></pre>
<p>R is not Excel …Clean up the workspace a bit (keep things tidy!)</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>## [1] &quot;age&quot;  &quot;dat&quot;  &quot;grp&quot;  &quot;id&quot;   &quot;mean&quot; &quot;sex&quot;  &quot;x&quot;</code></pre>
<pre class="r"><code>rm(id, age, grp, sex)

ls()</code></pre>
<pre><code>## [1] &quot;dat&quot;  &quot;mean&quot; &quot;x&quot;</code></pre>
<p>Accessing individual variables</p>
<pre class="r"><code>dat$id</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="r"><code>dat$age</code></pre>
<pre><code>## [1] 25 21 30</code></pre>
<pre class="r"><code>dat$sex</code></pre>
<pre><code>## [1] &quot;Male&quot;   &quot;Male&quot;   &quot;Female&quot;</code></pre>
<pre class="r"><code>dat$grp</code></pre>
<pre><code>## [1] &quot;T&quot; &quot;C&quot; &quot;T&quot;</code></pre>
<p>Note: in older versions of R, putting a character variable (e.g., sex, grp) into a data frame would turn it into a ‘factor’ (more on factors later)</p>
<p><br></p>
</div>
<div id="matrices" class="section level3">
<h3><strong>Matrices</strong></h3>
<p>Two dimensions same as Dataframe but all columns in a matrix must have the same mode(numeric, character, etc.)</p>
<p><br></p>
</div>
<div id="arrays" class="section level3">
<h3><strong>Arrays</strong></h3>
<p><br></p>
<p>Arrays are similar to matrices but can have more than two dimensions. See help(array) for details.</p>
</div>
<div id="lists" class="section level3">
<h3><strong>Lists</strong></h3>
<p>An ordered collection of objects (components). A list allows you to gather a variety of (possibly unrelated) objects under one name.</p>
<pre class="r"><code># example of a list with 4 components -
# two string, one numeric vectors and one factor
w &lt;- list(name=&quot;Fred&quot;, mynumbers=c(1:10), mycharacter=c(&quot;Male&quot;, &quot;Female&quot;, &quot;Female&quot;), age=factor(c(&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;)))
w</code></pre>
<pre><code>## $name
## [1] &quot;Fred&quot;
## 
## $mynumbers
##  [1]  1  2  3  4  5  6  7  8  9 10
## 
## $mycharacter
## [1] &quot;Male&quot;   &quot;Female&quot; &quot;Female&quot;
## 
## $age
## [1] 0 1 1 1
## Levels: 0 1</code></pre>
<p><br></p>
</div>
<div id="factors" class="section level3">
<h3><strong>Factors</strong></h3>
<p>Tell R that a variable is nominal by making it a factor. The factor stores the nominal values as a vector of integers in the range [ 1… k ] (where k is the number of unique values in the nominal variable), and an internal vector of character strings (the original values) mapped to these integers.</p>
<pre class="r"><code>gender &lt;- c(&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Female&quot;,&quot;Male&quot;,&quot;Male&quot;,&quot;Female&quot;,&quot;Male&quot;)
gender &lt;- factor(gender)
# 1=female, 2=male internally (alphabetically)
# R now treats gender as a nominal variable
summary(gender) </code></pre>
<pre><code>## Female   Male 
##      2      7</code></pre>
<p><br></p>
</div>
<div id="manipulating-the-data-frame" class="section level3">
<h3><strong>Manipulating the data frame</strong></h3>
<p>Subsetting (value before the comma is the row, value after is the column)</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   id age    sex grp
## 1  1  25   Male   T
## 2  2  21   Male   C
## 3  3  30 Female   T</code></pre>
<pre class="r"><code>dat[1,2]</code></pre>
<pre><code>## [1] 25</code></pre>
<p>subsetting (columns)</p>
<pre class="r"><code>dat[,2]</code></pre>
<pre><code>## [1] 25 21 30</code></pre>
<pre class="r"><code>dat[,c(1,4)]</code></pre>
<pre><code>##   id grp
## 1  1   T
## 2  2   C
## 3  3   T</code></pre>
<p>Note: if you take a single column, you get a vectorfor data frames, we can also use a special notation to select columns</p>
<pre class="r"><code>dat[2]</code></pre>
<pre><code>##   age
## 1  25
## 2  21
## 3  30</code></pre>
<pre class="r"><code>dat[c(1,4)]</code></pre>
<pre><code>##   id grp
## 1  1   T
## 2  2   C
## 3  3   T</code></pre>
<p>Note: taking a single column returns a data frame with that column can also refer to columns by their variable names</p>
<pre class="r"><code>dat[,&quot;age&quot;]</code></pre>
<pre><code>## [1] 25 21 30</code></pre>
<pre class="r"><code>dat[,c(&quot;id&quot;,&quot;grp&quot;)]</code></pre>
<pre><code>##   id grp
## 1  1   T
## 2  2   C
## 3  3   T</code></pre>
<pre class="r"><code>dat[&quot;age&quot;]</code></pre>
<pre><code>##   age
## 1  25
## 2  21
## 3  30</code></pre>
<pre class="r"><code>dat[c(&quot;id&quot;,&quot;grp&quot;)]</code></pre>
<pre><code>##   id grp
## 1  1   T
## 2  2   C
## 3  3   T</code></pre>
<p>subsetting (rows)</p>
<pre class="r"><code>dat[1,]</code></pre>
<pre><code>##   id age  sex grp
## 1  1  25 Male   T</code></pre>
<pre class="r"><code>dat[c(1,2),]</code></pre>
<pre><code>##   id age  sex grp
## 1  1  25 Male   T
## 2  2  21 Male   C</code></pre>
<p>combine selection of rows and columns</p>
<pre class="r"><code>dat[1:2, c(&quot;id&quot;,&quot;grp&quot;)]</code></pre>
<pre><code>##   id grp
## 1  1   T
## 2  2   C</code></pre>
<p>subsetting with logicals</p>
<pre class="r"><code>dat$sex</code></pre>
<pre><code>## [1] &quot;Male&quot;   &quot;Male&quot;   &quot;Female&quot;</code></pre>
<pre class="r"><code>dat$sex == &quot;Male&quot;</code></pre>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<pre class="r"><code>dat[dat$sex == &quot;Male&quot;,]</code></pre>
<pre><code>##   id age  sex grp
## 1  1  25 Male   T
## 2  2  21 Male   C</code></pre>
<p>Note: this will just return the dataset for the males, but this is not a permanent selection; examine object ‘dat’ again</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   id age    sex grp
## 1  1  25   Male   T
## 2  2  21   Male   C
## 3  3  30 Female   T</code></pre>
<p>If you want to make a permanent selection, you have to assign this output to an object (either overwrite the original object or make new ones)</p>
<pre class="r"><code>dat.m &lt;- dat[dat$sex == &quot;Male&quot;,]
dat.f &lt;- dat[dat$sex == &quot;Female&quot;,]
dat.m</code></pre>
<pre><code>##   id age  sex grp
## 1  1  25 Male   T
## 2  2  21 Male   C</code></pre>
<pre class="r"><code>dat.f</code></pre>
<pre><code>##   id age    sex grp
## 3  3  30 Female   T</code></pre>
<p>Note: in R, we can have an unlimited number of objects (including dataframes) available at the same time (see Environment pane); this can get confusing quickly, so try to keep your workspace tidy</p>
<pre class="r"><code>rm(dat.m)
rm(dat.f)</code></pre>
<p>using the subset() command</p>
<pre class="r"><code>subset(dat, sex == &quot;Male&quot;)</code></pre>
<pre><code>##   id age  sex grp
## 1  1  25 Male   T
## 2  2  21 Male   C</code></pre>
<pre class="r"><code>subset(dat, age &gt;= 25)</code></pre>
<pre><code>##   id age    sex grp
## 1  1  25   Male   T
## 3  3  30 Female   T</code></pre>
<pre class="r"><code>subset(dat, grp == &quot;T&quot;)</code></pre>
<pre><code>##   id age    sex grp
## 1  1  25   Male   T
## 3  3  30 Female   T</code></pre>
<p>Overwrite the original object if you really don’t need the rest of the data anymore further in the script (but don’t do this now!)</p>
<p>dat &lt;- subset(dat, sex == “Male”)</p>
<p>subset() can subset rows and also select one or multiple columns</p>
<pre class="r"><code>subset(dat, sex == &quot;Male&quot;, select = age)</code></pre>
<pre><code>##   age
## 1  25
## 2  21</code></pre>
<pre class="r"><code>subset(dat, sex == &quot;Male&quot;, select = c(age, sex))</code></pre>
<pre><code>##   age  sex
## 1  25 Male
## 2  21 Male</code></pre>
<pre class="r"><code>subset(dat, sex == &quot;Male&quot;, select = age, drop=TRUE)</code></pre>
<pre><code>## [1] 25 21</code></pre>
<p>add a new variable to a data frame</p>
<pre class="r"><code>dat$y &lt;- c(5, 7, 999)
dat</code></pre>
<pre><code>##   id age    sex grp   y
## 1  1  25   Male   T   5
## 2  2  21   Male   C   7
## 3  3  30 Female   T 999</code></pre>
<p>make a copy of an object</p>
<pre class="r"><code>dat2 &lt;- dat
dat2</code></pre>
<pre><code>##   id age    sex grp   y
## 1  1  25   Male   T   5
## 2  2  21   Male   C   7
## 3  3  30 Female   T 999</code></pre>
<p>sort a vector</p>
<pre class="r"><code>dat2$age</code></pre>
<pre><code>## [1] 25 21 30</code></pre>
<pre class="r"><code>sort(dat2$age)</code></pre>
<pre><code>## [1] 21 25 30</code></pre>
<pre class="r"><code>dat2</code></pre>
<pre><code>##   id age    sex grp   y
## 1  1  25   Male   T   5
## 2  2  21   Male   C   7
## 3  3  30 Female   T 999</code></pre>
<p>as before, this is not a permanent change unless you ‘back assign’ it</p>
<pre class="r"><code>dat2$age &lt;- sort(dat2$age)
dat2</code></pre>
<pre><code>##   id age    sex grp   y
## 1  1  21   Male   T   5
## 2  2  25   Male   C   7
## 3  3  30 Female   T 999</code></pre>
<p>Note: this is NOT the right way to sort a data frame; it just sorts the age variable within dat2, but all of the other variables are unchanged!</p>
<pre class="r"><code>rm(dat2)</code></pre>
<p>How to sort a data frame</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   id age    sex grp   y
## 1  1  25   Male   T   5
## 2  2  21   Male   C   7
## 3  3  30 Female   T 999</code></pre>
<pre class="r"><code>order(dat$age)</code></pre>
<pre><code>## [1] 2 1 3</code></pre>
<pre class="r"><code>dat[order(dat$age),]</code></pre>
<pre><code>##   id age    sex grp   y
## 2  2  21   Male   C   7
## 1  1  25   Male   T   5
## 3  3  30 Female   T 999</code></pre>
<pre class="r"><code>dat</code></pre>
<pre><code>##   id age    sex grp   y
## 1  1  25   Male   T   5
## 2  2  21   Male   C   7
## 3  3  30 Female   T 999</code></pre>
<pre class="r"><code>dat &lt;- dat[order(dat$age),]
dat</code></pre>
<pre><code>##   id age    sex grp   y
## 2  2  21   Male   C   7
## 1  1  25   Male   T   5
## 3  3  30 Female   T 999</code></pre>
<p>Value replacement (suppose 999 actually stands for missing data)</p>
<pre class="r"><code>dat$y</code></pre>
<pre><code>## [1]   7   5 999</code></pre>
<pre class="r"><code>dat$y==999</code></pre>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<pre class="r"><code>dat$y[dat$y==999] &lt;- NA
dat</code></pre>
<pre><code>##   id age    sex grp  y
## 2  2  21   Male   C  7
## 1  1  25   Male   T  5
## 3  3  30 Female   T NA</code></pre>
<pre class="r"><code>dat$age[dat$age &gt; 24] &lt;- 24
dat</code></pre>
<pre><code>##   id age    sex grp  y
## 2  2  21   Male   C  7
## 1  1  24   Male   T  5
## 3  3  24 Female   T NA</code></pre>
<pre class="r"><code>dat$y[dat$age &lt;= 21] &lt;- 4
dat</code></pre>
<pre><code>##   id age    sex grp  y
## 2  2  21   Male   C  4
## 1  1  24   Male   T  5
## 3  3  24 Female   T NA</code></pre>
<pre class="r"><code>dat$y[3] &lt;- 8
dat</code></pre>
<pre><code>##   id age    sex grp y
## 2  2  21   Male   C 4
## 1  1  24   Male   T 5
## 3  3  24 Female   T 8</code></pre>
<pre class="r"><code>dat$y[dat$id == 2] &lt;- 5
dat</code></pre>
<pre><code>##   id age    sex grp y
## 2  2  21   Male   C 5
## 1  1  24   Male   T 5
## 3  3  24 Female   T 8</code></pre>
<p>Rename a variable</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   id age    sex grp y
## 2  2  21   Male   C 5
## 1  1  24   Male   T 5
## 3  3  24 Female   T 8</code></pre>
<pre class="r"><code>names(dat)</code></pre>
<pre><code>## [1] &quot;id&quot;  &quot;age&quot; &quot;sex&quot; &quot;grp&quot; &quot;y&quot;</code></pre>
<pre class="r"><code>names(dat)[1]</code></pre>
<pre><code>## [1] &quot;id&quot;</code></pre>
<pre class="r"><code>names(dat)[1] &lt;- &quot;subject&quot;
dat</code></pre>
<pre><code>##   subject age    sex grp y
## 2       2  21   Male   C 5
## 1       1  24   Male   T 5
## 3       3  24 Female   T 8</code></pre>
<pre class="r"><code>names(dat)</code></pre>
<pre><code>## [1] &quot;subject&quot; &quot;age&quot;     &quot;sex&quot;     &quot;grp&quot;     &quot;y&quot;</code></pre>
<pre class="r"><code>names(dat) == &quot;age&quot;</code></pre>
<pre><code>## [1] FALSE  TRUE FALSE FALSE FALSE</code></pre>
<pre class="r"><code>names(dat)[names(dat) == &quot;age&quot;] &lt;- &quot;years&quot;
dat</code></pre>
<pre><code>##   subject years    sex grp y
## 2       2    21   Male   C 5
## 1       1    24   Male   T 5
## 3       3    24 Female   T 8</code></pre>
<p>Remove a variable from a data frame</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   subject years    sex grp y
## 2       2    21   Male   C 5
## 1       1    24   Male   T 5
## 3       3    24 Female   T 8</code></pre>
<pre class="r"><code>dat$y &lt;- NULL
dat</code></pre>
<pre><code>##   subject years    sex grp
## 2       2    21   Male   C
## 1       1    24   Male   T
## 3       3    24 Female   T</code></pre>
<p>Generate a new variable based on an existing one</p>
<pre class="r"><code>dat$days &lt;- dat$years * 365
dat</code></pre>
<pre><code>##   subject years    sex grp days
## 2       2    21   Male   C 7665
## 1       1    24   Male   T 8760
## 3       3    24 Female   T 8760</code></pre>
<p>sum/mean of several variables</p>
<pre class="r"><code>dat$y1 &lt;- c(2, 4, 3)
dat$y2 &lt;- c(5, 5, 1)
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2
## 2       2    21   Male   C 7665  2  5
## 1       1    24   Male   T 8760  4  5
## 3       3    24 Female   T 8760  3  1</code></pre>
<pre class="r"><code>dat$ysum  &lt;- dat$y1 + dat$y2
dat$ymean &lt;- (dat$y1 + dat$y2) / 2
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760  4  5    9   4.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>There are special functions for this</p>
<pre class="r"><code>dat$ysum  &lt;- NULL
dat$ymean &lt;- NULL
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2
## 2       2    21   Male   C 7665  2  5
## 1       1    24   Male   T 8760  4  5
## 3       3    24 Female   T 8760  3  1</code></pre>
<pre class="r"><code>dat[c(&quot;y1&quot;,&quot;y2&quot;)]</code></pre>
<pre><code>##   y1 y2
## 2  2  5
## 1  4  5
## 3  3  1</code></pre>
<pre class="r"><code>dat$ysum  &lt;- rowSums(dat[c(&quot;y1&quot;,&quot;y2&quot;)])
dat$ymean &lt;- rowMeans(dat[c(&quot;y1&quot;,&quot;y2&quot;)])
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760  4  5    9   4.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>what if there are missing values?</p>
<pre class="r"><code>dat$y1[2] &lt;- NA
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760 NA  5    9   4.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>then the resulting mean/sum will also be NA</p>
<pre class="r"><code>dat$ymean &lt;- rowMeans(dat[c(&quot;y1&quot;,&quot;y2&quot;)])
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760 NA  5    9    NA
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>can avoid this with the ‘na.rm’ argument (set it to TRUE); then the mean or sum is taken over the non-missing values within each row</p>
<pre class="r"><code>dat$ymean &lt;- rowMeans(dat[c(&quot;y1&quot;,&quot;y2&quot;)], na.rm=TRUE)
dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760 NA  5    9   5.0
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>subsetting when there are missing values</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760 NA  5    9   5.0
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<pre class="r"><code>dat$y1 &gt;= 2</code></pre>
<pre><code>## [1] TRUE   NA TRUE</code></pre>
<pre class="r"><code>dat[dat$y1 &gt;= 2,] # not good</code></pre>
<pre><code>##    subject years    sex  grp days y1 y2 ysum ymean
## 2        2    21   Male    C 7665  2  5    7   3.5
## NA      NA    NA   &lt;NA&gt; &lt;NA&gt;   NA NA NA   NA    NA
## 3        3    24 Female    T 8760  3  1    4   2.0</code></pre>
<p>better but complex</p>
<pre class="r"><code>is.na(dat$y1)</code></pre>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<pre class="r"><code>!is.na(dat$y1)</code></pre>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<pre class="r"><code>!is.na(dat$y1) &amp; dat$y1 &gt;= 2</code></pre>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<pre class="r"><code>dat[!is.na(dat$y1) &amp; dat$y1 &gt;= 2,]</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>easier</p>
<pre class="r"><code>dat$y1 &gt;= 2</code></pre>
<pre><code>## [1] TRUE   NA TRUE</code></pre>
<pre class="r"><code>which(dat$y1 &gt;= 2)</code></pre>
<pre><code>## [1] 1 3</code></pre>
<pre class="r"><code>dat[which(dat$y1 &gt;= 2),]</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>easiest</p>
<pre class="r"><code>subset(dat, y1 &gt;= 2)</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<p>a couple other examples</p>
<pre class="r"><code>dat</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 1       1    24   Male   T 8760 NA  5    9   5.0
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<pre class="r"><code>subset(dat, !is.na(y1))</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
<pre class="r"><code>subset(dat, subject != 1)</code></pre>
<pre><code>##   subject years    sex grp days y1 y2 ysum ymean
## 2       2    21   Male   C 7665  2  5    7   3.5
## 3       3    24 Female   T 8760  3  1    4   2.0</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
